(()=>{"use strict";const e=(e,t)=>{const o=document.querySelectorAll(e),n=document.getElementById(t),l=(()=>{const e=document.createElement("div");e.style.cssText="\n        width: 50px;\n        height: 50px;\n        overflow-y: scroll;\n        visibility: hidden;\n    ",document.body.append(e);const t=e.offsetWidth-e.clientWidth;return e.remove(),t})();document.body.style.overflow="hidden",o.forEach((e=>{e.classList.remove("open"),e.classList.add("close")})),document.documentElement.style.setProperty("--animation","fadeIn"),n.classList.remove("close"),n.classList.add("open"),document.body.style.marginRight=`${l}px`},t=e=>{const t=document.getElementById(e);document.body.style.overflow="",document.documentElement.style.setProperty("--animation","fadeOut"),t.addEventListener("animationend",(()=>{t.classList.remove("open"),t.classList.add("close"),document.body.style.marginRight="0px"}),{once:!0})},o=(o,n,l)=>{const c=document.getElementById(n);document.addEventListener("click",(t=>{t.target&&t.target.closest(l)&&(t.preventDefault(),e(o,n))})),c.addEventListener("click",(e=>{e.target!==c&&""!==e.target.getAttribute("cross")||t(n)}))},n=e=>{const t=localStorage.getItem("name");document.querySelector(e).textContent=t||"Войти"};window.addEventListener("DOMContentLoaded",(()=>{n(".btn__outline"),setTimeout((()=>{document.body.className=""}),1e3),(()=>{const e=document.querySelector(".header"),t=document.querySelector("main");window.addEventListener("scroll",(()=>{window.scrollY>=t.scrollTop+1?e.classList.add("header__active"):e.classList.remove("header__active")}))})(),o(".modal","login",'[data-modal-trigger="login"]'),o(".modal","signup",'[data-modal-trigger="signup"]'),o(".modal","defects",'[data-modal-trigger="defects"]'),(()=>{const e=document.querySelector("#signup .modal__form"),o=document.querySelector('#signup input[name="name"]'),l=document.querySelector('#signup input[name="password"]');e.addEventListener("submit",(e=>{e.preventDefault();const c=localStorage.getItem("name"),a=localStorage.getItem("pw");o.value===c&&l.value===a?(alert("Вы уже зарегестрированы!"),console.log(`Имя: ${c}`),console.log(`Пароль: ${a}`)):c?(alert("Ошибка!"),console.log(`Имя: ${c}`),console.log(`Пароль: ${a}`)):(localStorage.setItem("name",o.value),localStorage.setItem("pw",l.value),n(".btn__outline"),t("signup"))})),document.querySelectorAll("h1, h2, h3").forEach((e=>{e.innerHTML=e.innerHTML.replace(/а/gi,"$")}))})(),(()=>{const e=document.querySelector("#login .modal__form"),o=document.querySelector('#login input[name="name"]'),l=document.querySelector('#login input[name="password"]');e.addEventListener("submit",(e=>{e.preventDefault();const c=localStorage.getItem("name"),a=localStorage.getItem("pw");o.value===c&&l.value===a?(n(".btn__outline"),t("login"),console.log(`Имя: ${c}`),console.log(`Пароль: ${a}`)):(alert("Такого логина или пароля не существует!"),console.log(`Имя: ${c}`),console.log(`Пароль: ${a}`))}))})(),(()=>{const t=document.querySelector(".btn__outline");document.querySelector(".category__product-cards").addEventListener("click",(o=>{o.target&&o.target.closest(".btn__product")&&"Войти"===t.textContent&&(o.preventDefault(),e(".modal","login"))}))})()})),document.querySelector(".footer__copyright span").textContent="1977"})();